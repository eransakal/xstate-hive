import { actions } from 'xstate';
import {
  {{pascalCase name}}MachineContext,
  {{pascalCase name}}MachineEvents,
  {{pascalCase name}}MachineEventsTypes,
} from '../../types';

{{> xstateLogger isKME=isKME name='updateExternalInfo' logType='MachineAction' commented=true loggerPath='../../utils/'}}

export const updateExternalInfo = actions.assign(
  (context: {{pascalCase name}}MachineContext, event: {{pascalCase name}}MachineEvents) => {
    if (event.type !== {{pascalCase name}}MachineEventsTypes.ExternalInfoUpdated) {
      return context;
    }

    return {
      ...context,
      externalInfo: {
        ...context.externalInfo,
        ...event.externalInfo,
      },
    };
  }
);
